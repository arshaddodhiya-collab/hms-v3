<div class="layout-wrapper flex h-screen overflow-hidden">
  <!-- Sidebar (Desktop: Static, Mobile: Drawer) -->
  <ng-container *ngIf="isLoggedIn">
    <!-- Desktop Sidebar -->
    <div *ngIf="!isMobile" class="layout-sidebar flex-shrink-0">
      <app-sidebar></app-sidebar>
    </div>

    <!-- Mobile Sidebar -->
    <p-sidebar [(visible)]="sidebarVisible" *ngIf="isMobile">
      <app-sidebar></app-sidebar>
    </p-sidebar>
  </ng-container>

  <div
    class="layout-main-container flex flex-column flex-grow-1 h-full relative"
  >
    <!-- Topbar (Mobile Toggle) -->
    <div
      *ngIf="isLoggedIn && isMobile"
      class="p-3 bg-white shadow-2 flex align-items-center justify-content-between z-1"
      style="z-index: 100"
    >
      <p-button
        icon="pi pi-bars"
        (click)="toggleSidebar()"
        styleClass="p-button-text"
      ></p-button>
      <span class="font-bold">HMS</span>
      <div style="width: 2rem"></div>
      <!-- Spacer -->
    </div>

    <!-- Main Content -->
    <div
      class="layout-content flex-grow-1 overflow-y-auto p-3"
      [class.p-3]="isLoggedIn"
    >
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<p-toast position="top-right"></p-toast>
